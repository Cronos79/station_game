<!doctype html>
<html>

<head>
  <meta charset="utf-8" />
  <title>Station Game</title>
</head>

<body>
  <h1>Station Game</h1>

  <pre id="me">(loading...)</pre>
  <button id="logoutBtn">Logout</button>

  <script>
    async function refreshMe() {
      const r = await fetch("/api/me");
      const data = await r.json();
      document.getElementById("me").textContent = JSON.stringify(data, null, 2);
    }

    document.getElementById("logoutBtn").onclick = async () => {
      await fetch("/api/logout", { method: "POST" });
      location.href = "/login";
    };

    refreshMe();
  </script>
</body>

</html>